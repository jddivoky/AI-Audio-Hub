(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,r,s)=>{"use strict";s.d(r,{$:()=>d});var t=s(5155),a=s(2115),i=s(9708),l=s(2085),n=s(9434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:s,variant:a,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,t.jsx)(u,{className:(0,n.cn)(o({variant:a,size:l,className:s})),ref:r,...c})});d.displayName="Button"},2751:(e,r,s)=>{Promise.resolve().then(s.bind(s,4995))},4995:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>U});var t=s(5155),a=s(2115),i=s(5695),l=s(7200),n=s(3004),o=s(5317),d=s(2177),c=s(221),u=s(5594),m=s(8214),f=s(285),p=s(9434);let x=a.forwardRef((e,r)=>{let{className:s,type:a,...i}=e;return(0,t.jsx)("input",{type:a,className:(0,p.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...i})});x.displayName="Input";var h=s(704);let g=h.bL,b=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(h.B8,{ref:r,className:(0,p.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});b.displayName=h.B8.displayName;let v=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(h.l9,{ref:r,className:(0,p.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});v.displayName=h.l9.displayName;let j=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(h.UC,{ref:r,className:(0,p.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});j.displayName=h.UC.displayName;var y=s(6695),w=s(7481),N=s(9708),S=s(968);let A=(0,s(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(S.b,{ref:r,className:(0,p.cn)(A(),s),...a})});E.displayName=S.b.displayName;let I=d.Op,F=a.createContext({}),C=e=>{let{...r}=e;return(0,t.jsx)(F.Provider,{value:{name:r.name},children:(0,t.jsx)(d.xI,{...r})})},k=()=>{let e=a.useContext(F),r=a.useContext(_),{getFieldState:s,formState:t}=(0,d.xW)(),i=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...i}},_=a.createContext({}),R=a.forwardRef((e,r)=>{let{className:s,...i}=e,l=a.useId();return(0,t.jsx)(_.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:r,className:(0,p.cn)("space-y-2",s),...i})})});R.displayName="FormItem";let T=a.forwardRef((e,r)=>{let{className:s,...a}=e,{error:i,formItemId:l}=k();return(0,t.jsx)(E,{ref:r,className:(0,p.cn)(i&&"text-destructive",s),htmlFor:l,...a})});T.displayName="FormLabel";let P=a.forwardRef((e,r)=>{let{...s}=e,{error:a,formItemId:i,formDescriptionId:l,formMessageId:n}=k();return(0,t.jsx)(N.DX,{ref:r,id:i,"aria-describedby":a?"".concat(l," ").concat(n):"".concat(l),"aria-invalid":!!a,...s})});P.displayName="FormControl",a.forwardRef((e,r)=>{let{className:s,...a}=e,{formDescriptionId:i}=k();return(0,t.jsx)("p",{ref:r,id:i,className:(0,p.cn)("text-sm text-muted-foreground",s),...a})}).displayName="FormDescription";let O=a.forwardRef((e,r)=>{var s;let{className:a,children:i,...l}=e,{error:n,formMessageId:o}=k(),d=n?String(null!=(s=null==n?void 0:n.message)?s:""):i;return d?(0,t.jsx)("p",{ref:r,id:o,className:(0,p.cn)("text-sm font-medium text-destructive",a),...l,children:d}):null});O.displayName="FormMessage";var B=s(172);let D=u.Ik({email:u.Yj().email({message:"Invalid email address"}),password:u.Yj().min(6,{message:"Password must be at least 6 characters"})}),z=u.Ik({email:u.Yj().email({message:"Invalid email address"}),password:u.Yj().min(6,{message:"Password must be at least 6 characters"})});function L(){let[e,r]=(0,a.useState)(!1),{toast:s}=(0,w.dj)(),l=(0,i.useRouter)(),u=(0,d.mN)({resolver:(0,c.u)(D),defaultValues:{email:"",password:""}}),p=(0,d.mN)({resolver:(0,c.u)(z),defaultValues:{email:"",password:""}}),h=async e=>{if(r(!0),!m.j2){s({title:"Error",description:"Firebase Auth not initialized. Check console.",variant:"destructive"}),r(!1);return}try{await (0,n.x9)(m.j2,e.email,e.password),s({title:"Login successful!"}),l.push("/dashboard")}catch(e){console.error("Login error:",e),s({title:"Login failed",description:e.message||"An unexpected error occurred.",variant:"destructive"})}finally{r(!1)}},N=async e=>{if(r(!0),!m.j2||!m.db){s({title:"Error",description:"Firebase not initialized. Check console.",variant:"destructive"}),r(!1);return}try{let r=(await (0,n.eJ)(m.j2,e.email,e.password)).user,t=(0,o.H9)(m.db,"users",r.uid);await (0,o.BN)(t,{email:r.email,isPremium:!1,createdAt:(0,o.O5)()}),s({title:"Signup successful!"}),l.push("/dashboard")}catch(r){console.error("Signup error:",r);let e="An unexpected error occurred.";s({title:"Signup failed",description:e="auth/email-already-in-use"===r.code?"This email is already registered. Please log in instead.":r.message||e,variant:"destructive"})}finally{r(!1)}},S=async()=>{if(r(!0),!m.j2||!m.db){s({title:"Error",description:"Firebase not initialized. Check console.",variant:"destructive"}),r(!1);return}let e=new n.HF;try{let r=(await (0,n.df)(m.j2,e)).user,t=(0,o.H9)(m.db,"users",r.uid);(await (0,o.x7)(t)).exists()||await (0,o.BN)(t,{email:r.email,isPremium:!1,createdAt:(0,o.O5)(),displayName:r.displayName,photoURL:r.photoURL}),s({title:"Signed in with Google successfully!"}),l.push("/dashboard")}catch(e){console.error("Google Sign-in error:",e),s({title:"Google Sign-in failed",description:e.message||"An unexpected error occurred.",variant:"destructive"})}finally{r(!1)}};return(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)(g,{defaultValue:"login",className:"w-[400px]",children:[(0,t.jsxs)(b,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(v,{value:"login",children:"Login"}),(0,t.jsx)(v,{value:"signup",children:"Sign Up"})]}),(0,t.jsx)(j,{value:"login",children:(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Login"}),(0,t.jsx)(y.BT,{children:"Access your Audio Insights dashboard."})]}),(0,t.jsx)(I,{...u,children:(0,t.jsxs)("form",{onSubmit:u.handleSubmit(h),children:[(0,t.jsxs)(y.Wu,{className:"space-y-4",children:[(0,t.jsx)(C,{control:u.control,name:"email",render:r=>{let{field:s}=r;return(0,t.jsxs)(R,{children:[(0,t.jsx)(T,{children:"Email"}),(0,t.jsx)(P,{children:(0,t.jsx)(x,{placeholder:"you@example.com",...s,disabled:e})}),(0,t.jsx)(O,{})]})}}),(0,t.jsx)(C,{control:u.control,name:"password",render:r=>{let{field:s}=r;return(0,t.jsxs)(R,{children:[(0,t.jsx)(T,{children:"Password"}),(0,t.jsx)(P,{children:(0,t.jsx)(x,{type:"password",...s,disabled:e})}),(0,t.jsx)(O,{})]})}})]}),(0,t.jsxs)(y.wL,{className:"flex flex-col gap-4",children:[(0,t.jsx)(f.$,{type:"submit",className:"w-full",disabled:e,children:e?(0,t.jsx)(B.A,{className:"animate-spin"}):"Login with Email"}),(0,t.jsx)(f.$,{variant:"outline",type:"button",className:"w-full",onClick:S,disabled:e,children:e?(0,t.jsx)(B.A,{className:"animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:(0,t.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 23.4 172.9 61.9l-76.7 60.5C314.6 102.3 282.7 96 248 96c-88.8 0-160.1 71.1-160.1 160s71.3 160 160.1 160c98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Sign in with Google"]})})]})]})})]})}),(0,t.jsx)(j,{value:"signup",children:(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Sign Up"}),(0,t.jsx)(y.BT,{children:"Create an account to start summarizing."})]}),(0,t.jsx)(I,{...p,children:(0,t.jsxs)("form",{onSubmit:p.handleSubmit(N),children:[(0,t.jsxs)(y.Wu,{className:"space-y-4",children:[(0,t.jsx)(C,{control:p.control,name:"email",render:r=>{let{field:s}=r;return(0,t.jsxs)(R,{children:[(0,t.jsx)(T,{children:"Email"}),(0,t.jsx)(P,{children:(0,t.jsx)(x,{placeholder:"you@example.com",...s,disabled:e})}),(0,t.jsx)(O,{})]})}}),(0,t.jsx)(C,{control:p.control,name:"password",render:r=>{let{field:s}=r;return(0,t.jsxs)(R,{children:[(0,t.jsx)(T,{children:"Password"}),(0,t.jsx)(P,{children:(0,t.jsx)(x,{type:"password",...s,disabled:e})}),(0,t.jsx)(O,{})]})}})]}),(0,t.jsxs)(y.wL,{className:"flex flex-col gap-4",children:[(0,t.jsx)(f.$,{type:"submit",className:"w-full",disabled:e,children:e?(0,t.jsx)(B.A,{className:"animate-spin"}):"Sign Up with Email"}),(0,t.jsx)(f.$,{variant:"outline",type:"button",className:"w-full",onClick:S,disabled:e,children:e?(0,t.jsx)(B.A,{className:"animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:(0,t.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 23.4 172.9 61.9l-76.7 60.5C314.6 102.3 282.7 96 248 96c-88.8 0-160.1 71.1-160.1 160s71.3 160 160.1 160c98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Sign up with Google"]})})]})]})})]})})]})})}function U(){let{user:e,loading:r}=(0,l.A)(),s=(0,i.useRouter)();return((0,a.useEffect)(()=>{!r&&e&&s.push("/dashboard")},[e,r,s]),r||e)?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-200px)]",children:(0,t.jsx)(B.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsx)(L,{})}},6695:(e,r,s)=>{"use strict";s.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>n,wL:()=>u});var t=s(5155),a=s(2115),i=s(9434);let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},7200:(e,r,s)=>{"use strict";s.d(r,{A:()=>m,AuthProvider:()=>u});var t=s(5155),a=s(3004),i=s(5317),l=s(2115),n=s(172),o=s(8214),d=s(8856);let c=(0,l.createContext)(void 0);function u(e){let{children:r}=e,[s,u]=(0,l.useState)(null),[m,f]=(0,l.useState)(null),[p,x]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=(0,a.hg)(o.j2,e=>{u(e),e||(f(null),x(!1))});return()=>e()},[]),(0,l.useEffect)(()=>{let e=null;if(s){x(!0);let r=(0,i.H9)(o.db,"users",s.uid);e=(0,i.aQ)(r,e=>{e.exists()?f(e.data()):f({email:s.email,isPremium:!1}),x(!1)},e=>{console.error("Error fetching user data:",e),f(null),x(!1)})}else x(!1);return()=>{e&&e()}},[s]),p)?(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsxs)("div",{className:"container flex h-14 items-center justify-between",children:[(0,t.jsx)(d.E,{className:"h-6 w-32"}),(0,t.jsx)(d.E,{className:"h-8 w-20 rounded-md"})]})}),(0,t.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:(0,t.jsx)(n.A,{className:"h-12 w-12 animate-spin text-primary"})}),(0,t.jsx)("footer",{className:"py-4 text-center text-muted-foreground text-sm border-t",children:(0,t.jsx)(d.E,{className:"h-4 w-48 mx-auto"})})]}):(0,t.jsx)(c.Provider,{value:{user:s,userData:m,loading:p},children:r})}let m=()=>{let e=(0,l.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7481:(e,r,s)=>{"use strict";s.d(r,{dj:()=>m});var t=s(2115);let a=0,i=new Map,l=e=>{if(i.has(e))return;let r=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,r)},n=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=r;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},o=[],d={toasts:[]};function c(e){d=n(d,e),o.forEach(e=>{e(d)})}function u(e){let{...r}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...r,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,r]=t.useState(d);return t.useEffect(()=>(o.push(r),()=>{let e=o.indexOf(r);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8214:(e,r,s)=>{"use strict";let t;s.d(r,{IG:()=>u,db:()=>c,j2:()=>d});var a=s(3915),i=s(3004),l=s(5317),n=s(858);let o={apiKey:"AIzaSyA2RdhtOZdp4zFbOkJoXSshptYFKoATxVc",authDomain:"ai-audio-hub.firebaseapp.com",projectId:"ai-audio-hub",storageBucket:"ai-audio-hub.firebasestorage.app",messagingSenderId:"132255761634",appId:"1:132255761634:web:6e74f83a8e1b7ac1d98abb"};if(o.apiKey||(console.error("Firebase API key (NEXT_PUBLIC_FIREBASE_API_KEY) is missing. Using placeholder. Firebase will not work correctly. Please check your environment variables."),o.apiKey="MISSING_API_KEY_PLACEHOLDER"),o.projectId||console.warn("Firebase Project ID (NEXT_PUBLIC_FIREBASE_PROJECT_ID) is missing. Some Firebase services might not work correctly."),(0,a.Dk)().length)t=(0,a.Sx)();else try{t=(0,a.Wp)(o)}catch(e){console.error("Firebase initialization failed:",e),"auth/invalid-api-key"===e.code&&console.error("Firebase initialization failed: Invalid API Key detected. Please check NEXT_PUBLIC_FIREBASE_API_KEY.")}let d=null,c=null,u=null;if(t){try{d=(0,i.xI)(t)}catch(e){console.error("Failed to initialize Firebase Authentication:",e)}try{c=(0,l.aU)(t)}catch(e){console.error("Failed to initialize Firestore:",e)}try{u=(0,n.c7)(t)}catch(e){console.error("Failed to initialize Firebase Storage:",e)}}else console.error("Firebase app initialization failed earlier. Firebase services (Auth, Firestore, Storage) will not be available.")},8856:(e,r,s)=>{"use strict";s.d(r,{E:()=>i});var t=s(5155),a=s(9434);function i(e){let{className:r,...s}=e;return(0,t.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",r),...s})}},9434:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(2596),a=s(9688);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,156,461,196,72,441,684,358],()=>r(2751)),_N_E=e.O()}]);